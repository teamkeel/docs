# Configuration

All configuration is done in the `keelconfig.yaml` file.

## Tokens

```yaml
auth:
  tokens:
    # Lifespan of the access token in seconds. Default is 24 hours.
    accessTokenExpiry: 3600
    # Lifespan of the refresh token in seconds. Default is 3 months.
    refreshTokenExpiry: 604800
    # Enable refresh token rotation. Default is true.
    refreshTokenRotationEnabled: false
```

## Redirect URL

For SSO Login, make sure to configure the `redirectUrl`.  This URL will be redirected to after the `auth/authorize/{provider}` flow has successfully completed.  An auth code will be provided in querystring parameter `code`, which can then be used at the token endpoint to acquire an access and refresh token.

## Providers

Various providers can be configured.  Depending on the `type` various other fields may be required.  

| Parameter Name | Description                                |
|----------------|--------------------------------------------|
| `type`     | The type of provider |
| `name`  | The unique name you give to this provider       |
| `clientId`  | The client ID given to you by your provider    |

### Types of providers

We support various out-of-the-box provider types (such as `google`, `facebook`, etc.) - please see [the providers page](/authentication/providers) for more.

You can also configure your own custom OpenId Connect (`oidc`) provider type. Read on for more.

### Out of the box providers

No additional fields need to be provided.

```yaml
auth:
  providers:
    - type: google
      name: 'My google client'
      clientId: hfjuwaa3a2983h1hfsdf
```

### Custom OpenID Connect provider

| Parameter Name | Description                                |
|----------------|--------------------------------------------|
| `issuerUrl`     | The provider's issuer URL used for discovery purposes |

```yaml
auth:
  providers:
    # Custom OIDC
    - type: oidc
      name: Baidu
      issuerUrl: 'https://dev-skhlutl45lbqkvhv.us.auth0.com'
      clientId: 'kasj28fnq09ak'
```

### Client Secret Configuration

Only necessary for the SSO Login flow.

The name of the secret has the format `KEEL_AUTH_PROVIDER_SECRET_{name}` where `{name}` is the uppercased name of the provider as configured in your keelconfig.yaml file.  See the SSO Login page for more.
